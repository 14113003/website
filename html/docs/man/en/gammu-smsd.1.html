<div class="manpage">
<h2>GAMMU-SMSD</h2>
Section: Gammu Documentation (1)<br/>
Updated: February 8, 2010<br/>
<a href="#index">Index</a> 
<hr/>
<a class="aname" id="lbAB" name="lbAB"/>
<h3>NAME</h3>
gammu-smsd - SMS daemon for Gammu <a class="aname" id="lbAC" name="lbAC"/>
<h3>SYNOPSIS</h3>
<b>gammu-smsd</b> [<i>OPTION</i>]... <a class="aname" id="lbAD" name="lbAD"/>
<h3>DESCRIPTION</h3>
This manual page documents briefly the <b>gammu-smsd</b> command.
<p><b>gammu-smsd</b> is a program that periodically scans GSM modem
for received messages, stores them in defined storage and also
sends messages enqueued in this storage.</p>
<p>The daemon can reload configuration file after sending hangup
signal (SIGHUP) and properly terminates itself on SIGINT and
SIGTERM.</p>
<p>Program accepts following options (please note that long options
might be not accepted on some platforms):</p>
<dl compact="compact">
<dt><b>-h</b>, <b>--help</b></dt>
<dd>Shows help.</dd>
<dt><b>-v</b>, <b>--version</b></dt>
<dd>Shows version information and compiled in features.</dd>
<dt><b>-c</b>, <b>--config</b>=<i>file</i></dt>
<dd>Configuration file to use, default is /etc/gammu-smsdrc, on
Windows there is no default and configuration file path has to be
always specified.
<p>If you run SMSD as a system daemon (or service), it is
recommended to use absolute path to log file as startup directory
might be different than you expect.</p>
<p>See <a href="../gammu-smsdrc.5/">gammu-smsdrc</a>(5) for config
file documentation.</p>
</dd>
<dt><b>-p</b>, <b>--pid</b>=<i>file</i></dt>
<dd>Lock file for storing pid, empty for no locking. Not supported
on Windows.</dd>
<dt><b>-U</b>, <b>--user</b>=<i>user</i></dt>
<dd>Drop daemon privileges to chosed user after starting.</dd>
<dt><b>-G</b>, <b>--group</b>=<i>group</i></dt>
<dd>Drop daemon privileges to chosen group after starting.</dd>
<dt><b>-d</b>, <b>--daemon</b></dt>
<dd>Daemonize program on startup. Not supported on Windows.</dd>
<dt><b>-i</b>, <b>--install-service</b></dt>
<dd>Installs SMSD as a Windows service.</dd>
<dt><b>-u</b>, <b>--uninstall-service</b></dt>
<dd>Uninstalls SMSD as a Windows service.</dd>
<dt><b>-s</b>, <b>--start-service</b></dt>
<dd>Starts SMSD Windows service.</dd>
<dt><b>-k</b>, <b>--stop-service</b></dt>
<dd>Stops SMSD Windows service.</dd>
<dt><b>-f</b>, <b>--max-failures</b>=<i>count</i></dt>
<dd>Terminate after defined number of failures. Use 0 to not
terminate (this is default).</dd>
<dt><b>-X</b>, <b>--suicide</b>=<i>seconds</i></dt>
<dd>Kills itself after number of seconds.</dd>
<dt><b>-S</b>, <b>--run-service</b></dt>
<dd>Runs pogram as SMSD Windows service. This should not be used
manually, but only Windows Service manager should use this
command.</dd>
<dt><b>-n</b>, <b>--service-name</b>=<i>name</i></dt>
<dd>Defines name of a Windows service. Each service requires an
unique name, so if you want to run several SMSD instances, you have
to name each service differently. Default is &quot;GammuSMSD&quot;.</dd>
</dl>
<a class="aname" id="lbAE" name="lbAE"/>
<h3>EXAMPLE</h3>
<p><a class="aname" id="lbAF" name="lbAF"/></p>
<h4>Linux/Unix Examples</h4>
<dl compact="compact">
<dt>Start SMSD as a daemon on Linux:</dt>
<dd>
<dl compact="compact">
<dd>
<pre>
gammu-smsd --config /etc/gammu-smsdrc --pid /var/run/gammu-smsd.pid --daemon
</pre></dd>
</dl>
</dd>
</dl>
<dl compact="compact">
<dt>Start SMSD as a daemon on Linux with reduced privileges:</dt>
<dd>
<dl compact="compact">
<dd>
<pre>
gammu-smsd --config /etc/gammu-smsdrc --pid /var/run/gammu-smsd.pid --daemon --user gammu --group gammu
</pre></dd>
</dl>
</dd>
</dl>
<dl compact="compact">
<dt>SMSD as a system wide daemon</dt>
<dd>
<p>To use SMSD as a daemon, you might want to use init script which
is shipped with Gammu in contrib/init directory. It is not
installed by default, either install it manually or check INSTALL
file for instructions.</p>
<p>Under Windows 7 you might need to disable UAC (user account
control) before you will be able to install SMSD service.</p>
</dd>
</dl>
<a class="aname" id="lbAG" name="lbAG"/>
<h4>Windows Service Examples</h4>
<dl compact="compact">
<dt>Install Gammu SMSD Windows service:</dt>
<dd>
<dl compact="compact">
<dd>
<pre>
gammu-smsd.exe -c c:\Gammu\smsdrc -i
</pre></dd>
</dl>
</dd>
</dl>
<dl compact="compact">
<dt>Install two instances of SMSD Windows service:</dt>
<dd>
<dl compact="compact">
<dd>
<pre>
gammu-smsd.exe -c c:\Gammu\smsdrc-1 -n Gammu-first-phone -i

gammu-smsd.exe -c c:\Gammu\smsdrc-2 -n Gammu-second-phone -i
</pre></dd>
</dl>
</dd>
</dl>
<dl compact="compact">
<dt>To uninstall a Windows service:</dt>
<dd>
<dl compact="compact">
<dd>
<pre>
gammu-smsd.exe -u
</pre></dd>
</dl>
</dd>
</dl>
<p><a class="aname" id="lbAH" name="lbAH"/></p>
<h4>Troubleshooting Windows Service</h4>
<p>If Gammu fails to start as a Windows service (you will usually
get &quot;Error 1053: The service did not respond to the start or
control request in a timely fashion&quot;), first check your SMSD logs.
If they do not contain any useful hint, try starting SMSD manually
with exactly same parameters as you installed the service (without
-i).</p>
<dl compact="compact">
<dt>For example the command line can look like:</dt>
<dd>
<dl compact="compact">
<dd>
<pre>
gammu-smsd.exe -c smsdrc
</pre></dd>
</dl>
</dd>
</dl>
<p>You now should be able to get errors from SMSD even if it fails
to start as a service.</p>
<p><a class="aname" id="lbAI" name="lbAI"/></p>
<h3>KNOWN LIMITATIONS</h3>
<p>You can not use same phone by more programs in same time.
However in case you did not enable locking in [gammu] section, it
might be able to start the communication with phone from more
programs. In this case neither of the programs will probably
work.</p>
<p>There is no way to detect that SMS message is reply to another
by looking at message headers. The only way to achieve this is to
add some token to the message and let the user include it in the
message on reply.</p>
<p><a class="aname" id="lbAJ" name="lbAJ"/></p>
<h3>SEE ALSO</h3>
<a href="../gammu-smsdrc.5/">gammu-smsdrc</a>(5), <a href="../gammu.1/">gammu</a>(1), <a href="../gammu-smsd-inject.1/">gammu-smsd-inject</a>(1), <a href="../gammu-smsd-monitor.1/">gammu-smsd-monitor</a>(1)
<p>Documentation for different backends:</p>
<p><a href="../gammu-smsd-files.7/">gammu-smsd-files</a>(7),
<a href="../gammu-smsd-mysql.7/">gammu-smsd-mysql</a>(7), <a href="../gammu-smsd-pgsql.7/">gammu-smsd-pgsql</a>(7), <a href="../gammu-smsd-dbi.7/">gammu-smsd-dbi</a>(7), <a href="../gammu-smsd-tables.7/">gammu-smsd-tables</a>(7), <a href="../gammu-smsd-null.7/">gammu-smsd-null</a>(7), <a href="../gammu-smsd-run.7/">gammu-smsd-run</a>(7)</p>
<p>For web based frontend to SMSD database (currently only MySQL is
being supported), please check Kalkun - &lt;<a href="http://kalkun.sourceforge.net/">http://kalkun.sourceforge.net/</a>&gt;.
<a class="aname" id="lbAK" name="lbAK"/></p>
<h3>AUTHOR</h3>
gammu-smsd and this manual page were written by Michal Cihar
&lt;<a href="mailto:michal@cihar.com">michal@cihar.com</a>&gt;.
<a class="aname" id="lbAL" name="lbAL"/>
<h3>COPYRIGHT</h3>
Copyright Â© 2009 Michal Cihar and other authors. License GPLv2: GNU
GPL version 2 &lt;<a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">http://www.gnu.org/licenses/old-licenses/gpl-2.0.html</a>&gt;<br/>

This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law. <a class="aname" id="lbAM" name="lbAM"/>
<h3>REPORTING BUGS</h3>
Please report bugs to &lt;<a href="http://bugs.cihar.com">http://bugs.cihar.com</a>&gt;.
<p>Before reporting a bug, please enable verbose logging in SMSD
configuration:</p>
<dl compact="compact">
<dd>
<pre>
[smsd]
debuglevel = 255
logfile = smsd.log
</pre></dd>
</dl>
<p>and include this verbose log within bug report.</p>
<hr/>
<a class="aname" id="index" name="index"/>
<h3>Index</h3>
<dl>
<dt><a href="#lbAB">NAME</a></dt>
<dt><a href="#lbAC">SYNOPSIS</a></dt>
<dt><a href="#lbAD">DESCRIPTION</a></dt>
<dt><a href="#lbAE">EXAMPLE</a></dt>
<dd>
<dl>
<dt><a href="#lbAF">Linux/Unix Examples</a></dt>
<dt><a href="#lbAG">Windows Service Examples</a></dt>
<dt><a href="#lbAH">Troubleshooting Windows Service</a></dt>
</dl>
</dd>
<dt><a href="#lbAI">KNOWN LIMITATIONS</a></dt>
<dt><a href="#lbAJ">SEE ALSO</a></dt>
<dt><a href="#lbAK">AUTHOR</a></dt>
<dt><a href="#lbAL">COPYRIGHT</a></dt>
<dt><a href="#lbAM">REPORTING BUGS</a></dt>
</dl>
<hr/>
This document was created by man2html, using the manual
pages.<br/>
Time: 08:45:37 GMT, July 01, 2010
</div>
