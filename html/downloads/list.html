{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ program }} - {% trans "Download" %}{% endblock %}

{% block content %}
<h2>
{% blocktrans %}
Download {{ program }}
{% endblocktrans %}
</h2>

{% include program_include %}

<form action="." method="GET" class="mirrorselect" id="mirrorselect">
{% blocktrans with mirror.name as name %}
Currently downloading from mirror:
{% endblocktrans %}
<select name="mirror">
{% for item in mirrors %}
<option value="{{ item.slug }}" 
    {% ifequal item.slug mirror.slug%} selected="selected"{% endifequal %} 
    >{{ item.name }}</option>
{% endfor %}
</select>
<input type="submit" value="{% trans "Change" %}" />
</form>

{% regroup downloads by get_state as dl_list %}
{% for dl_group in dl_list %}
<h3>{{ dl_group.grouper }}</h3>
<p>
{% blocktrans with dl_group.list.0.released|date as released %}
Released on {{ released }}.
{% endblocktrans %}
</p>
<ul>

{% for item in dl_group.list %}
<li><a href="{{ mirror.url }}{{ item.location }}">{{ item.location }}</a></li>
{% endfor %}
</ul>
{% endfor %}

{% endblock %}

